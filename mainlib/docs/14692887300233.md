# 事务-两阶段提交2PC
两阶段提交时常见的解决分布式事务的方式，保证参与的进程都提交成功、或者都取消事务，可以保持ACID中的A。
两阶段提交中，包含了两种角色：协调者与参与者。参与者是实际处理事务的机器，协调者就是其中一台单独的处理分布式事务的机器。
算法分两个阶段：
1.投票阶段
2.提交阶段

1、请求阶段Commit-requestphase或表决阶段votingphase
参与者进行表决，同意或取消
2、提交阶段commitphase
协调者进行决策，提交或取消。所有参与者都同意提交才通知提交事务，否则通知所有参与者取消事务。一个VOTE_ABORT所有GLOBAL_ABORT；所有VOTE_COMMIT则GLOBAL_COMMIT。
如果某参与者没收到信息，可以根据其他参与者的信息设置自己状态commit或者abort。如果所有节点都ready长时间不变化，说明协调者宕机，超时后设置abort。

