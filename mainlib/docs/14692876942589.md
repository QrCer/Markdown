# Intro-SC 统一认证项目
1.同步会员
sitrs.boe.com/mdm-rs/member/sync
prers.boe.com/mdm-rs/member/sync

例如：
POST /mdm-rs/member/sync HTTP/1.1
Host: prers.boe.com
Connection: close
User-Agent: Paw/2.3.1 (Macintosh; OS X/10.11.5) GCDHTTPRequest
Content-Length: 0

执行时间：20.65s	执行条数：583条会员

#SQL
- MQ_CONSUMER_MESSAGE

```
/*
 Navicat Premium Data Transfer

 Source Server         : UAC-SIT
 Source Server Type    : Oracle
 Source Server Version : 112040
 Source Host           : 10.80.20.135
 Source Schema         : BOEUAC

 Target Server Type    : Oracle
 Target Server Version : 112040
 File Encoding         : utf-8

 Date: 05/25/2016 15:31:33 PM
*/

-- ----------------------------
--  Table structure for MQ_CONSUMER_MESSAGE
-- ----------------------------
DROP TABLE "BOEUAC"."MQ_CONSUMER_MESSAGE";
CREATE TABLE "MQ_CONSUMER_MESSAGE" (   "ID" NUMBER NOT NULL, "MSG_ID" VARCHAR2(255BYTE), "TOPIC" VARCHAR2(255BYTE), "TAG" VARCHAR2(255BYTE), "STATUS" NUMBER, "EXCEPTION" VARCHAR2(255BYTE), "IS_DELETED" NUMBER, "BODY" CLOB, "RAW_MESSAGE" CLOB, "CREATE_TIME" TIMESTAMP(6) NULL, "DELETE_TIME" TIMESTAMP(6) NULL);
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."ID" IS 'ID';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."MSG_ID" IS '消息ID';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."TOPIC" IS '消息队列';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."TAG" IS '消息标签：发送给哪个平台：TAG_ALL、TAG_SC、TAG_OASIS';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."STATUS" IS '消息发送状态:1：成功，21：Producer发送失败，29：Producer发送失败带异常';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."EXCEPTION" IS '异常信息';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."IS_DELETED" IS '删除标记：1，删除';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."BODY" IS '消息内容';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."RAW_MESSAGE" IS '原始信息toString转存';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."CREATE_TIME" IS '创建时间';
COMMENT ON COLUMN "MQ_CONSUMER_MESSAGE"."DELETE_TIME" IS '删除时间';

-- ----------------------------
--  Primary key structure for table MQ_CONSUMER_MESSAGE
-- ----------------------------
ALTER TABLE "BOEUAC"."MQ_CONSUMER_MESSAGE" ADD CONSTRAINT "SYS_C0035593" PRIMARY KEY("ID");

-- ----------------------------
--  Checks structure for table MQ_CONSUMER_MESSAGE
-- ----------------------------
ALTER TABLE "BOEUAC"."MQ_CONSUMER_MESSAGE" ADD CONSTRAINT "SYS_C0035592" CHECK ("ID" IS NOT NULL) ENABLE;

-- ----------------------------
--  Indexes structure for table MQ_CONSUMER_MESSAGE
-- ----------------------------
CREATE INDEX BOEUAC.ID_TAG ON BOEUAC.MQ_CONSUMER_MESSAGE (ID ASC, MSG_ID ASC, TAG ASC) TABLESPACE SCDEV_DEFAULT LOGGING VISIBLE PCTFREE 10 INITRANS 2 MAXTRANS 255 STORAGE( INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645);
```

- MQ_PRODUCER_MESSAGE

```
/*
 Navicat Premium Data Transfer

 Source Server         : UAC-SIT
 Source Server Type    : Oracle
 Source Server Version : 112040
 Source Host           : 10.80.20.135
 Source Schema         : BOEUAC

 Target Server Type    : Oracle
 Target Server Version : 112040
 File Encoding         : utf-8

 Date: 05/25/2016 15:31:26 PM
*/

-- ----------------------------
--  Table structure for MQ_PRODUCER_MESSAGE
-- ----------------------------
DROP TABLE "BOEUAC"."MQ_PRODUCER_MESSAGE";
CREATE TABLE "MQ_PRODUCER_MESSAGE" (   "ID" NUMBER NOT NULL, "MSG_ID" VARCHAR2(255BYTE), "TOPIC" VARCHAR2(255BYTE), "TAG" VARCHAR2(255BYTE), "STATUS" NUMBER, "EXCEPTION" VARCHAR2(255BYTE), "IS_DELETED" NUMBER, "BODY" CLOB, "RAW_MESSAGE" CLOB, "CREATE_TIME" TIMESTAMP(6) NULL, "DELETE_TIME" TIMESTAMP(6) NULL);
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."ID" IS 'ID';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."MSG_ID" IS '消息ID';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."TOPIC" IS '消息队列';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."TAG" IS '消息标签：发送给哪个平台：TAG_ALL、TAG_SC、TAG_OASIS';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."STATUS" IS '消息发送状态:1：成功，21：Producer发送失败，29：Producer发送失败带异常';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."EXCEPTION" IS '异常信息';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."IS_DELETED" IS '删除标记：1，删除';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."BODY" IS '消息内容';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."RAW_MESSAGE" IS '原始信息toString转存';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."CREATE_TIME" IS '创建时间';
COMMENT ON COLUMN "MQ_PRODUCER_MESSAGE"."DELETE_TIME" IS '删除时间';

-- ----------------------------
--  Primary key structure for table MQ_PRODUCER_MESSAGE
-- ----------------------------
ALTER TABLE "BOEUAC"."MQ_PRODUCER_MESSAGE" ADD CONSTRAINT "SYS_C0035596" PRIMARY KEY("ID");

-- ----------------------------
--  Checks structure for table MQ_PRODUCER_MESSAGE
-- ----------------------------
ALTER TABLE "BOEUAC"."MQ_PRODUCER_MESSAGE" ADD CONSTRAINT "SYS_C0035594" CHECK ("ID" IS NOT NULL) ENABLE ADD CONSTRAINT "SYS_C0035595" CHECK ("ID" IS NOT NULL) ENABLE;

-- ----------------------------
--  Indexes structure for table MQ_PRODUCER_MESSAGE
-- ----------------------------
CREATE INDEX BOEUAC.ID_TAG ON BOEUAC.MQ_PRODUCER_MESSAGE (ID ASC, MSG_ID ASC, TAG ASC) TABLESPACE SCDEV_DEFAULT LOGGING VISIBLE PCTFREE 10 INITRANS 2 MAXTRANS 255 STORAGE( INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645);
```

- MB_MEMBER

```
ALTER TABLE MB_MEMBER
ADD (
UAC_ID NUMBER UNIQUE
);
COMMENT on COLUMN MB_MEMBER.UAC_ID
is 'UAC ID';

ALTER TABLE MB_MEMBER
ADD (
UAC_UPDATED VARCHAR2(1) DEFAULT 0
);
COMMENT on column MB_MEMBER.UAC_UPDATED
is '是否已与UAC同步';
```

